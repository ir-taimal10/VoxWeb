<vx-header></vx-header>
<!--<vx-publicity></vx-publicity>-->

<div class="vx-plus-container">
    <md-button class="md-fab vx-button"
               ng-click="ctrl.openRightMenu()"
               aria-label="Create">
        <i class="mdi-content-add"></i>
    </md-button>
</div>

<div class="section scrollspy vx-dashboard-canvas">
    <div class="container" ng-if="ctrl.service.empty">
        <div class="row empty-list">
            <div class="col s12 m12 l12">
                <h2 class="center header text_h2"> Estas listo para crear tu convocatoria.
                    <br/> Crea una nueva y comparte el link para que comiences a recibir ofertas.<br/>
                    <a class="span_h2 btn-link" ng-click="ctrl.openRightMenu()"> Crear nueva convocatoria</a>
                </h2>
            </div>
        </div>
    </div>
    <div class="container vx-announcement-list-container" ng-if="!ctrl.service.empty" flex="" ng-cloak="">
        <h5 class="vx-dashboard-title">Mis convocatorias </h5>
        <md-grid-list md-cols="1"
                      md-cols-sm="1"
                      md-cols-md="2"
                      md-cols-gt-md="3"
                      md-row-height-gt-md="8:9"
                      md-row-height="6:7"
                      md-gutter="10px"
                      md-gutter-gt-sm="10px">

            <md-grid-tile ng-repeat="announcement in ctrl.service.announcements"
                          md-rowspan="1"
                          md-colspan="1"
                          md-colspan-sm="1"
                          md-colspan-xs="1">
                <div class="card">
                    <div class="card-image waves-effect waves-block waves-light">
                        <img ng-if="!announcement.doc.image" class="activator" src="img/mic.png">
                        <img ng-if="announcement.doc.image" class="activator" ng-src="{{announcement.doc.image}}">
                    </div>
                    <div class="card-content">
                        <span class="card-title activator grey-text text-darken-4">{{announcement.doc.name}}<i
                                class="mdi-navigation-more-vert right"></i></span>
                        <p class="vx-item-actions">
                            <a ng-href="#/announcement/{{announcement.doc.publicUrl}}" target="_blank">
                                <i class="mdi-action-open-in-new"></i>
                            </a>
                            <a ng-click="ctrl.editAnnouncement(announcement)">
                                <i class="mdi-editor-mode-edit"></i>
                            </a>
                            <a ng-click="ctrl.deleteAnnouncement(announcement)">
                                <i class="mdi-action-delete"></i>
                            </a>
                        </p>
                    </div>
                    <div class="card-reveal">
                        <span class="card-title grey-text text-darken-4">{{announcement.doc.name}}
                            <i class="mdi-navigation-close right"></i>
                        </span>
                        <p class="vx-detail-label">Url de la convocatoria:</p>
                        <input class="vx-item-public-url" value="{{ctrl.getHost(announcement.doc.publicUrl)}}"/>
                        <p class="vx-detail-label">Vigente desde:</p>
                        <p class="vx-detail-value">{{announcement.doc.minDate | date:'MM/dd/yyyy'}}</p>
                        <p class="vx-detail-label">Hasta:</p>
                        <p class="vx-detail-value">{{announcement.doc.maxDate | date:'MM/dd/yyyy'}}</p>
                        <p class="vx-detail-label">Valor a pagar:</p>
                        <p class="vx-detail-value">{{announcement.doc.amount | currency}}</p>
                        <p class="vx-detail-label">Gui√≥n requerido:</p>
                        <p class="vx-detail-value">{{announcement.doc.scriptRequired}}</p>
                        <p class="vx-detail-label">Recomendaciones:</p>
                        <p class="vx-detail-value">{{announcement.doc.recommendations}}</p>
                    </div>
                </div>
            </md-grid-tile>
        </md-grid-list>
        <div class="vx-load-more" layout="row" layout-align="space-around center" layout-wrap>
            <md-button ng-click="ctrl.loadMore()"
                       class="btn waves-effect waves-light grey darken-0">
                <i class="mdi-navigation-refresh"></i>
                Cargar mas
            </md-button>
        </div>
    </div>
</div>

<!--
<md-sidenav flex="100" class="md-sidenav-right md-whiteframe-z1" md-component-id="right" md-is-locked-open="$mdMedia(false)">
    <form>
        <md-input-container>
            <label for="testInput">Test input</label>
            <input id="testInput" type="text" ng-model="data" md-autofocus>
        </md-input-container>
    </form>
</md-sidenav>-->

<!--Parallax-->
<div class="parallax-container">
    <div class="parallax"><img src="img/parallax1.png"></div>
</div>

<vx-footer></vx-footer>